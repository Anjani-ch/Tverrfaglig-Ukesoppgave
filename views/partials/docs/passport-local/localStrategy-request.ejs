<pre class="terminal code">
passport.<span class="function">use</span>(new <span class="function">LocalStrategy</span>({
    usernameField: <span class="string">'email'</span>,
    passwordField: <span class="string">'passwd'</span>,
    passReqToCallback: <span class="data-type">true</span>,
    session: <span class="data-type">false</span>
  },
  <span class="data-type">function</span>(req, username, password, done) {
    <span class="string">// request object is now first argument</span>
    <span class="string">// logic...</span>
  }
));
</pre>